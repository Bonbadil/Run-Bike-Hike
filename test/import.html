<!DOCTYPE HTML>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
  
    <title>Testing GPX Import</title>
    
  </head>
<body>
  <input type="file" id="input"> 
  <button id="btn-import">Import</button>

</body>
<script src="../js/models/gpx.js" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript" charset="utf-8">

  // var filename = "TR201410011900145.gpx";
  // var file = "17936.gpx";
  // var file = "16181.gpx";
  var selected_file;

  document.getElementById('input').addEventListener('change', function(inFile) {
    selected_file = document.getElementById('input').files[0]; 
  })
  document.querySelector("#btn-import").addEventListener("click", function(){
    console.log("import");
    GPX.load(selected_file, success, failure);
  });
  
  function success(track) {
    console.log("Final Result", track);
  }

  function failure(error) {
    console.log("error", error);
  }

</script>
</html>
