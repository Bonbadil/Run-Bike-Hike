<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <title data-l10n-id="title">Bike Run Hike</title>
    <link rel="shortcut icon" sizes="128x128" href="img/icons/128.png" type="image/png" />

    <meta name="mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <link rel="apple-touch-icon" href="img/icons/128.png"/>

    <!--······························ Reset ································-->
    <link rel="stylesheet" type="text/css" href="css/reset.css"/>

    <!--······························ Brick ································-->
    <!-- <link rel="stylesheet" type="text/css" href="lib/brick/brick-1.0.0.min.css"/> -->
    <link rel="stylesheet" type="text/css" href="lib/brick/brick-1.0.1.byob.min.css"/>

    <!--······························ Fonts ································-->
    <link rel="stylesheet" href="css/fonts.css"/>

    <!--··························· My own Skin ·····························-->
    <link rel="stylesheet" href="css/skin/x.css"/>
    <link rel="stylesheet" href="css/skin/x-layout.css"/>
    <link rel="stylesheet" href="css/skin/x-appbar.css"/>
    <link rel="stylesheet" href="css/skin/x-toggle.css"/>
    <link rel="stylesheet" href="css/skin/form.css"/>
    <link rel="stylesheet" href="css/skin/switches.css"/>
    <link rel="stylesheet" href="css/skin/spinner.css"/>
    <link rel="stylesheet" href="css/skin/status.css"/>
<!--
    <link rel="stylesheet" href="css/skin/button.css"/>
    <link rel="stylesheet" href="css/skin/list.css"/>
    <link rel="stylesheet" href="css/skin/x-toggle.css"/>
    <link rel="stylesheet" href="css/skin/select.css"/>
-->

    <!--························ My common style ! ··························-->
    <link rel="stylesheet" href="css/app.css"/>
    <link rel="stylesheet" href="css/styles.css"/>

    <!-- Localization -->
    <!-- <link rel="prefetch" type="application/l10n" href="locales/data.ini" />
    <script type="text/javascript" src="lib/webL10n/l10n.js"></script> -->

  </head>
  <body id="app">

    <!-- <x-deck transition-type="slide-left" id="views"> -->
    <x-deck transition-type="none" id="views">


      <!-- Card 0 :  Settings View -->
      <x-card>
        <x-layout>
          <x-appbar>
            <h1 data-l10n-id="settings" id="settings-tittle">Settings</h1>
            <button id="btn-settings-back" class="icon icon-forward">Back</button>
          </x-appbar>
          <section data-type="settings">
            <ul>
              <li>
<!--                 <label class="pack-switch">
                  <input type="checkbox" id="screen">
                  <span class="settings-item">Keep screen alive?</span>
                </label> -->
                <p>
                <x-toggle id="screen" focus active label="Keep screen alive?"></x-toggle>
                </p>
              </li>
              <li>
                <p data-l10n-id="language">Language</p>
                  <select disabled id="language" class="button icon-dialog">
                    <option value="en" data-l10n-id="english">English</option>
                    <option value="es" data-l10n-id="spanish">Español</option>
                    <option value="fr" data-l10n-id="french">Français</option>
                  </select>
              </li>
              <li>
                <p data-l10n-id="distance-unit">Unit</p>
                <select id="distance" class="button icon-dialog">
                  <option value="0" data-l10n-id="metric">Metric</option>
                  <option value="1" data-l10n-id="imperial">Imperial</option>
                </select>
              </li>
              <li>
                <p data-l10n-id="speed-unit">Speed unit</p>
                <select id="speed" class="button icon icon-dialog">
                  <option value="0">km/h</option>
                  <option value="1">mph</option>
                </select>
              </li>
              <li>
                <p data-l10n-id="position-format">Position format</p>
                <select id="position" class="button icon icon-dialog">
                  <option value="0">49°08'06.22</option>
                  <option value="1">49°08.104'</option>
                  <option value="2">49.135060</option>
                </select>
              </li>
            </ul>
          </section>
        </x-layout>
      </x-card>


      <!-- Card 1 :  Home View -->
      <x-card>
        <x-layout>
          <x-appbar>
            <button id="btn-settings" class="icon icon-settings">Settings</button>
            <h1>Run, Bike, Hike...</h1>
            <button id="install"class="icon">Install me</button>
            <button id="btn-tracks" class="icon icon-list">Tracks</button>
          </x-appbar>
          <section>
            <div class="compass-container">
              <img id="home-compass" src="img/compass_inactive.png" alt="Compass" />
              <button data-l10n-id="btn-start" id="btn-start" class="recommend align-right big alternate">Start</button>
            </div>
            <div class="infos-container">
              <ul>
                <li>
                  <div data-l10n-id="latitude">
                    Latitude
                    <span class="bold align-right" id="home-lat"></span>
                  </div>
                </li>
                <li>
                  <div data-l10n-id="longitude">
                    Longitude
                    <span class="bold align-right" id="home-lon"></span>
                  </div>
                </li>
                <li>
                  <div data-l10n-id="altitude">
                    Altitude
                    <span class="bold align-right" id="home-alt"></span>
                  </div>
                </li>
                <li>
                  <div data-l10n-id="accuracy">
                    Accuracy
                    <span class="bold align-right" id="home-acc"></span>
                  </div>
                </li>
                <li>
                  <div id="message-area" class="align-center">
                    <progress id="spinner"></progress>
                    <p id="msg" class="bold align-center">Retreiving GPS signal. It may take some time...</p>
                  </div>
                </li>
              </ul>
            </div>
          </section>
<!--           <footer role="toolbar">
            <ul>
              <li></li>
            </ul>
          </footer> -->

        </x-layout>
      </x-card>

      <!-- Card 2 :  Tracking View -->
      <x-card>
      <x-layout>
        <x-appbar>
          <h1 data-l10n-id="rbh-tracking" id="tracking-h1">Tracking...</h1>
        </x-appbar>
        <section>
        <div class="compass-container">
          <img id="infos-compass" class="compass" src="img/compass.png" alt="Compass" />
          <button data-l10n-id="btn-stop" id="btn-stop" class="danger align-right big alternate">Stop</button>
        </div>
        <div class="infos-container">
        <ul>
          <li>
            <div data-l10n-id="elapsed-time">
              Elapsed time
              <span id="infos-chrono" class="bold align-right">00:00:00</span>
            </div>
          </li>
          <li>
            <div data-l10n-id="distance">
              Distance
              <span id="infos-dist" class="bold align-right"></span>
            </div>
          </li>
          <li>
            <div data-l10n-id="speed">
              Speed
              <span id="infos-speed" class="bold align-right"></span>
            </div>
          </li>
          <li>
            <div data-l10n-id="altitude">
              Altitude
              <span id="infos-alt" class="bold align-right"></span>
            </div>
          </li>
          <li>
            <div data-l10n-id="accuracy">
              Accuracy
              <span id="infos-acc" class="bold align-right"></span>
            </div>
          </li>
        </ul>
      </div>
        </section>
      </x-layout>
      </x-card>

      <!-- Card 3 :  Stop tracking confirmation form -->
      <x-card transition-type="fade-scale">
        <form id="stop-form-confirm" role="dialog" data-type="confirm" class="hidden" onsubmit="return false;">
          <section>
            <h1 data-l10n-id="confirmation">Confirmation</h1>
            <p>
              <span data-l10n-id="stop-track-desc">Are you sure you want to stop recording this track?</span>
            </p>
          </section>
          <menu>
            <button id="btn-cancel-stop" class="cancel" data-l10n-id="cancel">Cancel</button>
            <button id="btn-confirm-stop" role="button" class="danger" data-l10n-id="confirm">Confirm</button>
          </menu>
        </form>
      </x-card>

      <!-- Card 4 :  Tracks View -->
      <x-card>
        <x-appbar>
          <button id="btn-tracks-back" class="icon icon-back">Back</button>
          <h1 data-l10n-id="recorded-tracks">Recorded tracks</h1>
        </x-appbar>
        <x-layout>
        <section data-type="list">
          <ul id="tracks-list">
          </ul>
          <!-- Testing : Start -->
<!--           <li>
          <a id="TR-2014421-15195"><p>
            <span class="align-left bold clipped">TR-SAMPLE</span>
            <span class="align-right">21/05/2014</span>
          </p>
          <p class="new-line">
            <span class="align-left">15km</span>
            <span class="align-right">50min</span>
          </p></a>
          </li> -->
          <!-- Testing : Stop  -->
        </section>
        </x-layout>
      </x-card>

      <!-- Card 5 :  Track View -->
      <x-card>
        <x-appbar>
          <button id="btn-track-back" class="icon icon-back">Back</button>
          <h1 data-l10n-id="track" id="tr-name"></h1>
          <button data-l10n-id="delete" class="icon icon-delete" id="btn-delete">Delete</button>
          <button data-l10n-id="share" class="icon icon-share" disabled="" id="btn-share">Share</button>
          <button data-l10n-id="edit" class="icon icon-edit" disabled="" id="btn-edit">Edit</button>
        </x-appbar>
        <x-layout>
          <div class="infos-container">
            <ul>
              <li>
                <div data-l10n-id="date">
                  Date
                  <span id="trk-date" class="bold align-right"></span>
                </div>
              </li>
              <li>
                <div data-l10n-id="distance">
                  Distance
                  <span id="trk-dist" class="bold align-right"></span>
                </div>
              </li>
              <li>
                <div data-l10n-id="duration">
                  Duration
                  <span id="trk-dur" class="bold align-right"></span>
                </div>
              </li>
              <li>
                <div data-l10n-id="max_speed">
                  Max speed
                  <span id="trk-max-speed" class="bold align-right"></span>
                </div>
              </li>
              <li>
                <div data-l10n-id="av_speed">
                  Average speed
                  <span id="trk-av-speed" class="bold align-right"></span>
                </div>
              </li>
              <li>
                <div data-l10n-id="max_alt">
                  Max altitude
                  <span id="trk-max-alt" class="bold align-right"></span>
                </div>
              </li>
              <li class="separateur-bottom">
                <div data-l10n-id="min_alt">
                  Min altitude
                  <span id="trk-min-alt" class="bold align-right"></span>
                </div>
              </li>
              <li class="separateur-bottom">
                <div data-l10n-id="map" id="trk-dt-map" class="bold">Map</div>
                <div class="align-center">
                  <progress id="track-spinner"></progress>
                </div>
                <p data-l10-id="loading-map" id="map-text">Loading map ...</p>
                <img src="" id="map-img" class="hidden absolute" />
              </li>
              <li class="separateur-bottom">
                <div data-l10n-id="speed" id="trk-dt-speed" class="bold">Speed</div>
                <canvas id="speed-canvas"></canvas>
              </li>
              <li class="separateur-bottom">
                <div data-l10n-id="altitude" id="trk-dt-alt" class="bold">Altitude</div>
                <canvas id="alt-canvas"></canvas>
              </li>
            </ul>
          </div>
          <!-- <footer>
            <ul>
              <li></li>
              <li></li>
              <li></li>
            </ul>
          </footer> -->
        </x-layout>
      </x-card>

      <!--  Card 6 : Delete track confirmation form -->
      <x-card  transition-type="fade-scale">
        <form id="del-form-confirm" role="dialog" data-type="confirm" class="hidden" onsubmit="return false;">
          <section>
            <h1 data-l10n-id="confirmation">Confirmation</h1>
            <p>
              <span data-l10n-id="delete-track-desc">Are you sure you want to delete this track?</span>
            </p>
          </section>
          <menu>
            <button id="btn-cancel-delete" class="cancel" data-l10n-id="cancel">Cancel</button>
            <button id="btn-confirm-delete" role="button" class="danger" data-l10n-id="confirm">Confirm</button>
          </menu>
        </form>
      </x-card>

    </x-deck>

    <script type="text/javascript" src="lib/brick/brick-1.0.1.byob.min.js"></script>
    <script type="text/javascript" src="lib/lazyload/lazyload-min.js"></script>
    <script type="text/javascript" src="js/install.js"></script>
    <script type="text/javascript">
      document.addEventListener('DOMComponentsLoaded', function(){
        // run code here...
        var deck = document.getElementById("views");
        deck.showCard(1);
        LazyLoad.js([
          "js/views/home-view.js",
          "js/views/infos-view.js",
          "js/views/tracks-view.js",
          "js/views/track-view.js",
          "js/views/status.js",
          "js/models/chrono.js",
          // "js/models/config.js",
          "js/models/db.js",
          "js/models/tracks.js",
          "js/events.js",
          "js/controller.js",
          // "test/data.js",
          "js/app.js"
          ]);
      });
    </script>

  </body>
</html>
