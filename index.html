<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <title data-l10n-id="title">Bike Run Hike</title>
    <link rel="shortcut icon" sizes="128x128" href="img/icons/128.png" type="image/png" /

    <meta name="mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <link rel="apple-touch-icon" href="img/icons/128.png"/>

    <!--······························ Reset ································-->
    <link rel="stylesheet" type="text/css" href="css/reset.css"/>

    <!--···················· Firefox OS Building Blocks ·····················-->
    <link rel="stylesheet" type="text/css" href="css/building_blocks/util.css">
    <link rel="stylesheet" type="text/css" href="css/building_blocks/transitions.css">
    <link rel="stylesheet" type="text/css" href="css/building_blocks/style/action_menu.css">
    <link rel="stylesheet" type="text/css" href="css/building_blocks/style/buttons.css">
    <link rel="stylesheet" type="text/css" href="css/building_blocks/style/confirm.css">
    <link rel="stylesheet" type="text/css" href="css/building_blocks/style/edit_mode.css">
    <link rel="stylesheet" type="text/css" href="css/building_blocks/style/status.css">
    <link rel="stylesheet" type="text/css" href="css/building_blocks/style/headers.css">
    <link rel="stylesheet" type="text/css" href="css/building_blocks/style_unstable/lists.css">
    <link rel="stylesheet" type="text/css" href="css/building_blocks/style_unstable/toolbars.css">
    <link rel="stylesheet" type="text/css" href="css/building_blocks/style_unstable/progress_activity.css">

    <link rel="stylesheet" type="text/css" href="css/building_blocks/icons/styles/action_icons.css">

    <!--······························ Fonts ································-->
    <link rel="stylesheet" href="css/fonts.css"/>

    <!--··························· My own Style ! ···························-->
    <link rel="stylesheet" href="css/app.css"/>
    <link rel="stylesheet" href="css/styles.css"/>
    
    <!-- Localization -->
    <!-- <link rel="prefetch" type="application/l10n" href="locales/data.ini" />
    <script type="text/javascript" src="lib/webL10n/l10n.js"></script> -->

    <!-- Firefox OS Status / Notifications -->
    <script type="text/javascript" defer src="css/building_blocks/js/status.js"></script>

    <script type="text/javascript" src="test/test-geolocation.js"></script>


  </head>
  <body id="app">

    <!--··························· Home View ·······························-->
    <section role="region" id="homeView" data-position="current">
      <header>
        <menu type="toolbar">
          <button data-l10n-id="install" id="install" style="display:none;">Install</button>
        </menu>
        <h1 data-l10n-id="title" class="align-left">Run, Bike, Hike ...</h1>
        <img id="gps-status" class="gps-status align-right" src="img/gps_white.png" alt="Geolocation status" />
      </header>
      <div class="compass-container">
        <img id="home-compass" class="compass" src="img/compass_inactive.png" alt="Compass" />
        <button data-l10n-id="btn-start" id="btn-start" class="recommend small align-right">Start</button>
      </div>
      <div class="infos-container">
      <ul>
        <li>
          <div data-l10n-id="latitude">
            Latitude
            <span class="bold align-right" id="home-lat"></span>
          </div>
        </li>
        <li>
          <div data-l10n-id="longitude">
            Longitude
            <span class="bold align-right" id="home-lon"></span>
          </div>
        </li>
        <li>
          <div data-l10n-id="accuracy">
            Accuracy
            <span class="bold align-right" id="home-acc"></span>
          </div>
        </li>
        <li>
          <div data-l10n-id="altitude">
            Altitude
            <span class="bold align-right" id="home-alt"></span>
          </div>
        </li>
      </ul>
      <div id="message-area" class="align-center">
        <progress id="spinner"></progress>
        <p id="msg" class="bold align-center">Retreiving GPS signal. It may take some time...</p>
      </div>
      <button id="btn-reset">Reset DB</button>
      </div>
      <footer role="toolbar">
        <ul>
          <li><button id="btn-settings" class="action-icon settings">Settings</button></li>
        </ul>
        <ul>
          <li><button id="btn-tracks" class="action-icon menu">Tracks</button></li>
        </ul>
      </footer>
    </section>

    <!--···························· Settings View ··························-->
    <section role="region" class="skin-organic settings scrollable" id="settingsView" data-position="right">
      <header>
        <a id="btn-settings-back" href="#">
          <span class="icon icon-back">Back</span>
        </a>
        <h1 data-l10n-id="settings">Settings</h1>
      </header>
       
      <header>
        <h2 data-l10n-id="language">Language</h2>
      </header>
      <ul>
        <li>
          <p class="fake-select">
            <button id="language" class="icon icon-dialog">Language</button>
            <select id="language-select" name="language">
              <option value="en-US">English</option>
              <option value="es-ES">Español</option>
              <option value="fr">Français</option>
            </select>
          </p>
        </li>
        <li>
          <header>
            <h2 data-l10n-id="distance-unit">Distance unit</h2>
          </header>
          <p class="select">
            <button id="distance-unit" class="icon icon-dialog">Distance unit</button>
            <select id="distance-unit" name="distance-unit">
            </select>
          </p>
        </li>
        <li>
          <header>
            <h2 data-l10n-id="speed-unit">Speed unit</h2>
          </header>
          <p class="select">
            <button id="speed-unit" class="icon icon-dialog">Distance unit</button>
            <select id="speed-unit-select" name="speed-unit">
            </select>
          </p>
        </li>
        <li>
          <header>
            <h2 data-l10n-id="position-format">Position format</h2>
          </header>
          <p class="select">
            <button id="position-format" class="icon icon-dialog">Position format</button>
            <select id="position-format-select" name="position-format">
            </select>
          </p>
        </li>
        <li>
          <header>
            <h2 data-l10n-id="date-format">Date format</h2>
          </header>
          <p class="select">
            <button id="date-format" class="icon icon-dialog">Date format</button>
            <select id="date-format-select" name="date-format">
            </select>
          </p>
        </li>
      </ul>
    </section>

    <!--··························· Infos View ······························-->
    <section role="region" id="infosView"  data-position="right">
      <header>
        <h1 data-l10n-id="rbh-tracking">Tracking...</h1>
      </header>
      <div class="compass-container">
        <img id="infos-compass" class="compass" src="img/compass.png" alt="Compass" />
        <button data-l10n-id="btn-stop" id="btn-stop" class="danger small align-right">Stop</button>
      </div>
      <ul class="infos-container">
        <li>
          <div data-l10n-id="elapsed-time">
            Elapsed time
            <span id="infos-chrono" class="bold align-right">00:00:00</span>
<!--             <span id="infos-elapsed">
              <span id="trk-sec" class="bold align-right"></span>
              <span class="strong align-bold">:</span>
              <span id="trk-min" class="bold align-right"></span> -->
          </div>
            </span>
          </div>
        </li>
        <li>
          <div data-l10n-id="distance">
            Distance
            <span id="infos-dist" class="bold align-right"></span>
          </div>
        </li>
        <li>
          <div data-l10n-id="speed">
            Speed
            <span id="infos-speed" class="bold align-right"></span>
          </div>
        </li>
        <li>
          <div data-l10n-id="altitude">
            Altitude
            <span id="infos-alt" class="bold align-right"></span>
          </div>
        </li>
      </ul>
      <footer class="toolbar">
      </footer>
    </section>
    
    <!--·············· Stop the track confirmation dialog ···················-->
    <section id="stopTrackingConfirmation" data-position="back" class="fullscreen">
      <form role="dialog" data-type="confirm" onsubmit="return false;">
        <section>
          <h1 data-l10n-id="confirmation">Confirmation</h1>
          <p>
            <span data-l10n-id="stop-track-desc" data-l10n-args="{"n":"0"}">Are you sure you want to stop recording this track?</span>
          </p>
        </section>
        <menu>
          <button id="btn-cancel-stop" class="cancel" data-l10n-id="cancel">Cancel</button>
          <button id="btn-confirm-stop" role="button" class="danger" data-l10n-id="confirm">Confirm</button>
        </menu>
      </form>
    </section>

    <!--·················· Track successfully stored dialog ·················-->
    <section role="status" id="storeSuccessView">
      <p data-l10n-id="track-success-stored">The track <span id="track-name"><strong></strong></span> has been successfully stored.</p>
    </section>

    <!--······················ Failed to store track dialog ·················-->
    <section role="status" id="storeFailedView">
      <p>Error saving track <span id="track-name"><strong></strong></span> to database.</p>
    </section>


    <!--·························· Tracks View ······························-->
    <section role="region" id="tracksView" data-position="right">
      <header>
        <a id="btn-tracks-back" href="#">
          <span class="icon icon-back">Back</span>
        </a>
        <h1 data-l10n-id="recorded-tracks">Recorded tracks</h1>
      </header>
      <article  class="scrollable">
      <section data-type="list">
        <ul id="tracks-list">
        </ul>
      </section>
      </article>
      <footer class="toolbar">
      </footer>
    </section>

    <!--·························· Track View ·······························-->
    <section role="region" id="trackView" data-position="right">
      <header>
        <a><span id="btn-track-back" class="icon icon-back">Back</span></a>
        <h1 data-l10n-id="track" id="tr-name">Track:</h1>
      </header>
      <article  class="scrollable">
      <ul class="infos-container">
        <li>
          <div data-l10n-id="date">
            Date
            <span id="trk-date" class="bold align-right"></span>
          </div>
        </li>
        <li>
          <div data-l10n-id="distance">
            Distance
            <span id="trk-dist" class="bold align-right"></span>
          </div>
        </li>
        <li>
          <div data-l10n-id="duration">
            Duration
            <span id="trk-dur" class="bold align-right"></span>
          </div>
        </li>
        <li>
          <div data-l10n-id="map" id="trk-dt-map">Map</div>
          <img src="" id="map-img" />
        </li>
        <li>
          <div data-l10n-id="altitude" id="trk-dt-alt">Altitude</div>
          <canvas id="alt-canvas"></canvas>
        </li>
        <li>
          <div data-l10n-id="speed" id="trk-dt-speed">Speed</div>
          <canvas id="speed-canvas"></canvas>
        </li>
      </ul>
      </article>
      <footer role="toolbar">
        <ul>
          <li><button data-l10n-id="delete" class="action-icon delete" id="btn-delete">Delete</button></li>
          <li><button data-l10n-id="share" class="action-icon email-share" id="btn-share">Share</button></li>
          <li><button data-l10n-id="edit" class="action-icon compose" id="btn-edit">Edit</button></li>
        </ul>
      </footer>
    </section>

    <!--················ Delete the track confirmation dialog ···············-->
    <section id="deleteTrackConfirmation" data-position="back" class="fullscreen">
      <form role="dialog" data-type="confirm" onsubmit="return false;">
        <section>
          <h1 data-l10n-id="confirmation">Confirmation</h1>
          <p>
            <span data-l10n-id="delete-track-desc" data-l10n-args="{"n":"0"}">Are you sure you want to delete this track?</span>
          </p>
        </section>
        <menu>
          <button id="btn-cancel-delete" class="cancel" data-l10n-id="cancel">Cancel</button>
          <button id="btn-confirm-delete" role="button" class="danger" data-l10n-id="confirm">Confirm</button>
        </menu>
      </form>
    </section>

    <!--···················· Share track Action Menu ························-->
    <section id="ShareMenu" data-position="back" class="fullscreen">
      <form role="dialog" data-type="action">
        <header>Export track to</header> <!-- this header is optional -->
        <menu>
          <button data-l10n-id="share-local" id="share-local">Local (GPX)</button>
          <button data-l10n-id="share-email-html" id="share-email-html">Email (HTML)</button>
          <button data-l10n-id="share-email-gpx" id="share-email-gpx">Email (GPX)</button>
          <button data-l10n-id="cancel" id="share-cancel"> Cancel </button>
        </menu>
      </form>
    </section>

    <!--···················· Edit track View ························-->
    <section id="EditView" data-position="back" class="fullscreen">
      <form role="dialog" data-type="action">
        <header>Track name</header> <!-- this header is optional -->
        <input type="text" required="" value="" placeholder="Track name"></input>
        <menu>
          <button id="btn-cancel-edit" class="cancel" data-l10n-id="cancel">Cancel</button>
          <button id="btn-confirm-edit" role="button" class="danger" data-l10n-id="confirm">Confirm</button>
        </menu>
      </form>
    </section>

    <script type="text/javascript" src="lib/lazyload/lazyload-min.js"></script>
    <script type="text/javascript">
      LazyLoad.js([
        "js/views/home-view.js",
        "js/views/infos-view.js",
        "js/views/settings-view.js",
        "js/views/tracks-view.js",
        "js/views/track-view.js",
        "js/models/chrono.js",
        "js/models/config.js",
        "js/models/db.js",
        "js/models/tracks.js",
        "js/controller.js",
        "js/app.js"
        ]);
    </script>

  </body>
</html>
